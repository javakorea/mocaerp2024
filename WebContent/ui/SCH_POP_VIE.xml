<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:w2="http://www.inswave.com/websquare"
	xmlns:xf="http://www.w3.org/2002/xforms">
	<head meta_programId="BM004P01" meta_programName="메뉴별 프로그램 조회 팝업" meta_programDesc="메뉴별 프로그램 조회 팝업" meta_author="Inswave Systems"
		meta_date="2021.02.25">
		<w2:buildDate />
		<xf:model>
			<xf:instance>
				<data xmlns="" />
			</xf:instance>
			<w2:dataCollection baseNode="map">
				<w2:aliasDataMap scope="../dma_content" id="dma_content"></w2:aliasDataMap>
				<w2:aliasDataList scope="../dlt_gubunList" id="dlt_gubunList"></w2:aliasDataList>
			</w2:dataCollection>
			<w2:workflowCollection></w2:workflowCollection>
		</xf:model>
		<w2:layoutInfo></w2:layoutInfo>
		<w2:publicInfo method=""></w2:publicInfo>
		<script type="text/javascript" lazy="false"><![CDATA[
		
		scwin.sch_mode = '';
		scwin.onpageload = function () {
			let _parentDma = $p.parent().scwin.selectedSchObj;
			dma_content.setJSON(_parentDma);
			if(dma_content.get('SCH_END_TIME')){
				scwin.sch_mode = 'DETAIL';
				ipc_start.setValue(dma_content.get('SCH_START'));
				ipt_startHH.setValue(dma_content.get('SCH_START_TIME').substring(0,2));
				ipt_startMI.setValue(dma_content.get('SCH_START_TIME').substring(2,4));

				ipc_end.setValue(dma_content.get('SCH_END'));
				ipt_endHH.setValue(dma_content.get('SCH_END_TIME').substring(0,2));
				ipt_endMI.setValue(dma_content.get('SCH_END_TIME').substring(2,4));
				
				tr_start.show('');
				tr_end.show('');
			}else{
				scwin.sch_mode = 'SIMPLE';
				tr_start.hide('');
				tr_end.hide('');				
			}
			edi_1.setValue(dma_content.get('SCH_CONT'));
			edi_1.setStyle('padding','10px 0px 0px 0px');
			$p.parent().btn_reg.setLabel('등록');
			$p.parent().btn_reg.hide();
			
			$p.parent().btn_closePopup.setLabel('이전');
			$p.parent().btn_closePopup.show('');	
			if(JSON.parse(sessionStorage.getItem('loginInfo')).id == dma_content.get('SCH_WRITER')){
				if(dma_content.get('SCH_SUCCESSYN') == 'Y'){
					$p.parent().btn_success.setLabel('완료취소');
				}else{
					$p.parent().btn_success.setLabel('완료');
				} 
				$p.parent().btn_success.show('');

				$p.parent().btn_update.setLabel('수정');
				$p.parent().btn_update.show('');

				$p.parent().btn_del.setLabel('삭제');
				$p.parent().btn_del.show('');
				tr_writer.hide();
			}else{
				$p.parent().btn_success.hide('');
				$p.parent().btn_update.hide('');
				$p.parent().btn_del.hide('');
				tr_writer.show('');
			}

		};

scwin.display_color = function(_data){
	let _bgColor = _data;
	_bgColor = $p.parent().scwin.getBgColorTag(_bgColor);
	let j = dlt_gubunList.getMatchedJSON('CODE', _data, true);
	let txt = '';
	if(j && j.length > 0){
		txt = j[0].DATA;
	}
	return `<i style='${_bgColor}'>${txt}</i>`;
};]]></script>
	</head>
	<body ev:onpageload="scwin.onpageload">
		<xf:group id="" class="pop_contents flex_gvw flex_m" style="">

			<xf:group class="tbbox noline mb20 read" id="tbl_search" style="">
				<xf:group adaptive="layout" adaptiveThreshold="768" class="w2tb tb" id="" style="width:100%;" tagname="table">
					<w2:attributes>
						<w2:summary></w2:summary>
					</w2:attributes>
					<xf:group tagname="colgroup">
						<xf:group tagname="col" style=""></xf:group>
					</xf:group>
					<xf:group style="" tagname="tr" id="tr_read">
						<xf:group tagname="td" class="w2tb_td" style="">
							<w2:attributes></w2:attributes>
							
							<w2:textbox class="sch_gubun mr0" displayFormatter="scwin.display_color" ref="data:dma_content.SCH_COLOR" id="rdo_gubunYn" label="" style="" tagname="span">
							</w2:textbox><w2:textbox id="" label="" style="display: none" tagname="span" class="sch_spa_view fa fa-calendar-o"></w2:textbox>
							<w2:textbox class="ipt_day" displayFormatter="gcm.display.yyyy년MM월dd일EEE" ref="data:dma_content.SCH_START" id="ipt_day" label=""
								style="" tagname="span">
							</w2:textbox>
						</xf:group>
					</xf:group>
					
					
					
					
					
					<xf:group tagname="tr" id="tr_start" style="display:none;">
						<xf:group tagname="td" class="w2tb_td" >
							<w2:attributes></w2:attributes>
							<xf:group id="" style="" class="grp_setFromTo">
								<w2:inputCalendar id="ipc_start" style="width: 90px;height: 40px;" calendarValueType="yearMonthDate" pickerType="dynamic" readOnly="true"></w2:inputCalendar>
								<xf:input id="ipt_startHH" style="cursor:pointer; width: 36px;font-size: 20px;height:30px;" readOnly="true" ev:onclick="scwin.tri_HH_onclick"></xf:input>
								<w2:textbox id="" label=":" style="color:black;font-size: 30px"></w2:textbox>
								<xf:input id="ipt_startMI" style="cursor:pointer; width: 36px;font-size: 20px;height:30px" readOnly="true" ev:onclick="scwin.tri_MI_onclick"></xf:input>
							</xf:group> 
						</xf:group>
					</xf:group>
					<xf:group tagname="tr" id="tr_end" style="display:none;">
						<xf:group tagname="td" class="w2tb_td" >
							<w2:attributes></w2:attributes>
							<xf:group id="" style="" class="grp_setFromTo">
								<w2:inputCalendar id="ipc_end" style="width: 90px;height: 40px;" calendarValueType="yearMonthDate" pickerType="dynamic"></w2:inputCalendar>
								<xf:input id="ipt_endHH" style="cursor:pointer; width: 36px;font-size: 20px;height:30px;" readOnly="true" ev:onclick="scwin.tri_HH_onclick"></xf:input>
								<w2:textbox id="" label=":" style="color:black;font-size: 30px"></w2:textbox>
								<xf:input id="ipt_endMI" style="cursor:pointer; width: 36px;font-size: 20px;height:30px" readOnly="true" ev:onclick="scwin.tri_MI_onclick"></xf:input>
							</xf:group> 
						</xf:group>
					</xf:group>	
					
					
					
					
					
										
					<xf:group tagname="tr" id="tr_createDt" style="display:none;">
						<xf:group tagname="td" class="w2tb_td">
							<w2:attributes></w2:attributes>
							<xf:input class="" id="ibx_schdDate" placeholder="" readOnly="true" ref="data:dma_content.SCH_CREATE_DTTM"
								style="width:100%;">
							</xf:input>
						</xf:group>
					</xf:group>
					<xf:group tagname="tr" style="" id="tr_writer" style="display:none;">
						<xf:group tagname="td" class="w2tb_td">
							<w2:attributes></w2:attributes>
							<w2:textbox id="" label="작성자:" style="color:black;font-size: 30px"></w2:textbox>
							<xf:input class="" id="ibx_schdWriter" placeholder="" readOnly="true" ref="data:dma_content.SCH_WRITER" style="width:100%;">
							</xf:input>
						</xf:group>
					</xf:group>
					<xf:group tagname="tr" style="display:none;" id="tr_title">
						<xf:group tagname="td" class="w2tb_td">
							<w2:attributes></w2:attributes>
							<xf:input class="req" id="ibx_boardTitle" placeholder="" ref="data:dma_content.SCH_TITLE" style="width:100%;"></xf:input>
						</xf:group>
					</xf:group>
				</xf:group>
			</xf:group>
			<xf:group id="" class="edbox sch">
				<xf:group id="" style="" class="edi_btn">

				</xf:group>
				<xf:textarea id="edi_1" class="sch_view_cont read" style="height:100%" ref="data:dma_content.SCH_CONT" escape="false"
					readOnly="true">
				</xf:textarea>
			</xf:group>
		</xf:group>

	</body>
</html>
